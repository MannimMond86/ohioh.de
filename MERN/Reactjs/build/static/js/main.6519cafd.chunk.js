(this.webpackJsonpohiohmongodbapp=this.webpackJsonpohiohmongodbapp||[]).push([[0],{24:function(e,t,a){e.exports=a(51)},29:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=(a(29),a(4)),s=a(17),u=a(2),m=a(5),i=a(6),d=a.n(i),f=a(18),g=a(3),h={padding:"2rem 0rem"},p={margin:"1rem 0rem"},b=function(e){var t=e.db,a=Object(n.useState)({firstname:"",lastname:""}),o=Object(c.a)(a,2),l=o[0],s=o[1];Object(n.useEffect)((function(){return t.version(1).stores({formData:"id,value"}),t.transaction("rw",t.formData,Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formData.get("firstname");case 2:return a=e.sent,e.next=5,t.formData.get("lastname");case 5:if(n=e.sent,a){e.next=9;break}return e.next=9,t.formData.add({id:"firstname",value:""});case 9:if(n){e.next=12;break}return e.next=12,t.formData.add({id:"lastname",value:""});case 12:s({firstname:a?a.value:"",lastname:n?n.value:""});case 13:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e.stack||e)})),function(){return t.close()}}),[t]);var i=function(e){return function(a){t.formData.put({id:e,value:a}),s((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e,a))}))}},b=function(e){return function(t){return i(e)(t.target.value)}};return r.a.createElement("form",{style:h,onSubmit:function(e){e.preventDefault(),i("firstname")(""),i("lastname")("")}},r.a.createElement("span",null,"First name:"),r.a.createElement("br",null),r.a.createElement("input",{style:p,type:"text",name:"firstname",value:l.firstname,onChange:b("firstname")}),r.a.createElement("br",null),r.a.createElement("span",null,"Last name:"),r.a.createElement("br",null),r.a.createElement("input",{style:p,type:"text",name:"lastname",value:l.lastname,onChange:b("lastname")}),r.a.createElement("br",null),r.a.createElement(g.Online,null,r.a.createElement("input",{type:"submit",value:"Submit"})),r.a.createElement(g.Offline,null,"You are currently offline!"))},v=a(19),E=a(20),y=a(23),x=a(22),w=a(21),O=a.n(w),j=function(e){Object(y.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",age:"",address:""},e.handleSubmit=function(t){t.preventDefault();var a={name:e.state.name,age:e.state.age,address:e.state.address};O.a.post("http://localhost:4000/items",{user:a}).then((function(e){console.log(e),console.log(e.data)}))},e.handleChange=function(t){console.log("on change");var a=(t.target||t.srcElement||t.currentTarget).attributes.id;console.log(a);var n=a.nodeValue;console.log(n),"name"==n?e.setState({name:t.target.value}):"age"==n?e.setState({age:t.target.value}):e.setState({address:t.target.value})},e}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Enter username"),r.a.createElement("input",{id:"name",name:"name",type:"text",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"age"},"Enter your age"),r.a.createElement("input",{id:"age",name:"age",type:"text",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"address"},"Enter your address"),r.a.createElement("input",{id:"address",name:"address",type:"text",onChange:this.handleChange}),r.a.createElement("button",null,"Send data!")))}}]),a}(r.a.Component),D=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{style:{margin:"2rem auto",width:"200px"}},r.a.createElement("button",{onClick:function(){return o(!a)}},"".concat(a?"Close":"Open"," Form")),a&&r.a.createElement(b,{db:new s.a("FormDatabase")}),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.IndexedDB?console.log("IndexedDB is supported"):console.log("IndexedDB is not supported"),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.6519cafd.chunk.js.map